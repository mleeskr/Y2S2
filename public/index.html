<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Hello Kitty Ride Hailing</title>
  <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --pink: #ff9ff3;
      --light-pink: #ffd6f4;
      --dark-pink: #f368e0;
      --yellow: #feca57;
      --white: #fff;
      --black: #2f3640;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Comic Neue', cursive;
      background-color: var(--light-pink);
      color: var(--black);
      min-height: 100vh;
      background-image: url('https://i.imgur.com/sEhwQR9.png');
      background-size: 200px;
      background-repeat: repeat;
      background-attachment: fixed;
      opacity: 0;
      animation: fadeIn 1s forwards;
    }
    
    @keyframes fadeIn {
      to { opacity: 1; }
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
    }
    
    header {
      text-align: center;
      margin-bottom: 2rem;
      position: relative;
    }
    
    @keyframes bounce {
      0%, 100% { transform: translateX(-50%) translateY(0); }
      50% { transform: translateX(-50%) translateY(-10px); }
    }
    
    h1 {
      font-size: 3rem;
      color: var(--dark-pink);
      margin-top: 1rem;
      text-shadow: 3px 3px 0 var(--yellow);
      position: relative;
      z-index: 5;
      background-color: var(--white);
      display: inline-block;
      padding: 0 2rem;
      border-radius: 50px;
      border: 3px dashed var(--dark-pink);
    }
    
    .section {
      background-color: var(--white);
      border-radius: 20px;
      padding: 2rem;
      margin-bottom: 2rem;
      box-shadow: 0 10px 20px rgba(0,0,0,0.1);
      border: 3px solid var(--pink);
      transform: scale(0.95);
      transition: transform 0.3s ease;
    }
    
    .section:hover {
      transform: scale(1);
    }
    
    h2 {
      color: var(--dark-pink);
      margin-bottom: 1rem;
      font-size: 2rem;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    h2 i {
      color: var(--yellow);
    }
    
    .btn {
      background-color: var(--pink);
      color: white;
      border: none;
      padding: 12px 24px;
      font-size: 1.2rem;
      border-radius: 50px;
      cursor: pointer;
      font-family: 'Comic Neue', cursive;
      font-weight: bold;
      transition: all 0.3s ease;
      box-shadow: 0 5px 0 var(--dark-pink);
      margin-bottom: 1rem;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }
    
    .btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 0 var(--dark-pink);
    }
    
    .btn:active {
      transform: translateY(2px);
      box-shadow: 0 3px 0 var(--dark-pink);
    }
    
    .btn.secondary {
      background-color: var(--yellow);
      box-shadow: 0 5px 0 #e67e22;
    }
    
    .btn.secondary:hover {
      box-shadow: 0 8px 0 #e67e22;
    }
    
    .btn.secondary:active {
      box-shadow: 0 3px 0 #e67e22;
    }
    
    .btn.danger {
      background-color: #ff6b6b;
      box-shadow: 0 5px 0 #ee5253;
    }
    
    .btn.danger:hover {
      box-shadow: 0 8px 0 #ee5253;
    }
    
    .btn.danger:active {
      box-shadow: 0 3px 0 #ee5253;
    }
    
    .status {
      margin-bottom: 1rem;
      padding: 10px;
      border-radius: 10px;
      font-weight: bold;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .status.show {
      opacity: 1;
    }
    
    .loading {
      color: var(--dark-pink);
    }
    
    .success {
      color: #10ac84;
      background-color: #55efc4;
    }
    
    .error {
      color: #ee5253;
      background-color: #ff9ff3;
    }
    
    .empty {
      color: #f39c12;
      background-color: #f7d794;
    }
    
    .list {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 1rem;
    }
    
    .card {
      background-color: var(--white);
      border-radius: 15px;
      padding: 1.5rem;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      border: 2px solid var(--pink);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.15);
    }
    
    .card::before {
      content: "";
      position: absolute;
      top: 0;
      right: 0;
      width: 50px;
      height: 50px;
      background-image: url('https://i.imgur.com/DeC5jep.jpeg');
      background-size: contain;
      background-repeat: no-repeat;
    }
    
    .card h3 {
      color: var(--dark-pink);
      margin-bottom: 0.5rem;
      font-size: 1.3rem;
      border-bottom: 2px dotted var(--pink);
      padding-bottom: 5px;
    }
    
    .card p {
      margin-bottom: 0.5rem;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .card p i {
      color: var(--dark-pink);
      width: 20px;
      text-align: center;
    }
    
    .ride-card .price {
      font-weight: bold;
      color: #10ac84;
      font-size: 1.2rem;
    }
    
    .user-card .email {
      color: #0984e3;
      word-break: break-all;
    }
    
    .footer {
      text-align: center;
      margin-top: 2rem;
      color: var(--dark-pink);
      font-weight: bold;
    }
    
    /* CRUD Form Styles */
    .form-group {
      margin-bottom: 1rem;
    }
    
    label {
      display: block;
      margin-bottom: 0.5rem;
      color: var(--dark-pink);
      font-weight: bold;
    }
    
    input, select, textarea {
      width: 100%;
      padding: 10px;
      border: 2px solid var(--pink);
      border-radius: 10px;
      font-family: 'Comic Neue', cursive;
      font-size: 1rem;
      background-color: var(--light-pink);
    }
    
    input:focus, select:focus, textarea:focus {
      outline: none;
      border-color: var(--dark-pink);
      background-color: var(--white);
    }
    
    .tab {
      overflow: hidden;
      border: 2px solid var(--pink);
      background-color: var(--light-pink);
      border-radius: 15px 15px 0 0;
      margin-bottom: -1px;
    }
    
    .tab button {
      background-color: inherit;
      float: left;
      border: none;
      outline: none;
      cursor: pointer;
      padding: 14px 16px;
      transition: 0.3s;
      font-family: 'Comic Neue', cursive;
      font-weight: bold;
      color: var(--dark-pink);
    }
    
    .tab button:hover {
      background-color: var(--pink);
      color: white;
    }
    
    .tab button.active {
      background-color: var(--pink);
      color: white;
    }
    
    .tabcontent {
      display: none;
      padding: 20px;
      border: 2px solid var(--pink);
      border-top: none;
      border-radius: 0 0 15px 15px;
      background-color: var(--white);
    }
    
    .active-tab {
      display: block;
    }
    
    .action-buttons {
      display: flex;
      gap: 10px;
      margin-top: 1rem;
    }
    
    .action-buttons .btn {
      margin-bottom: 0;
      flex: 1;
    }
    
    @media (max-width: 768px) {
      .list {
        grid-template-columns: 1fr;
      }
      
      h1 {
        font-size: 2rem;
      }
      
      .action-buttons {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="hello-kitty"></div>
      <h1>Hello Kitty Ride Hailing</h1>
    </header>
    
    <section class="section">
      <h2><i class="fas fa-car"></i> Rides Management</h2>
      
      <div class="tab">
        <button class="tablinks active" onclick="openTab(event, 'createRide')"><i class="fas fa-plus"></i> Create</button>
        <button class="tablinks" onclick="openTab(event, 'getRides')"><i class="fas fa-list"></i> View All</button>
        <button class="tablinks" onclick="openTab(event, 'updateRide')"><i class="fas fa-edit"></i> Update</button>
        <button class="tablinks" onclick="openTab(event, 'deleteRide')"><i class="fas fa-trash"></i> Delete</button>
      </div>
      
      <div id="createRide" class="tabcontent active-tab">
        <div class="form-group">
          <label for="ridePickup"><i class="fas fa-map-marker-alt"></i> Pickup Location:</label>
          <input type="text" id="ridePickup" placeholder="Where are you?">
        </div>
        <div class="form-group">
          <label for="rideDestination"><i class="fas fa-flag-checkered"></i> Destination:</label>
          <input type="text" id="rideDestination" placeholder="Where to?">
        </div>
        <div class="form-group">
          <label for="rideDriverId"><i class="fas fa-id-card"></i> Driver ID:</label>
          <input type="text" id="rideDriverId" placeholder="Driver's ID">
        </div>
        <div class="form-group">
          <label for="rideStatus"><i class="fas fa-info-circle"></i> Status:</label>
          <select id="rideStatus">
            <option value="requested">Requested</option>
            <option value="in-progress">In Progress</option>
            <option value="completed">Completed</option>
            <option value="cancelled">Cancelled</option>
          </select>
        </div>
        <button class="btn" onclick="createRide()"><i class="fas fa-car"></i> Create Ride</button>
        <div class="status" id="createRideResponse"></div>
      </div>
      
      <div id="getRides" class="tabcontent">
        <button class="btn" onclick="getAllRides()"><i class="fas fa-sync-alt"></i> Load All Rides</button>
        <div class="status" id="getRidesResponse"></div>
        <div id="ridesList" class="list"></div>
      </div>
      
      <div id="updateRide" class="tabcontent">
        <div class="form-group">
          <label for="updateRideId"><i class="fas fa-key"></i> Ride ID:</label>
          <input type="text" id="updateRideId" placeholder="Enter ride ID">
        </div>
        <div class="form-group">
          <label for="updateRideField"><i class="fas fa-tag"></i> Field to Update:</label>
          <select id="updateRideField">
            <option value="pickupLocation">Pickup Location</option>
            <option value="destination">Destination</option>
            <option value="driverId">Driver ID</option>
            <option value="status">Status</option>
          </select>
        </div>
        <div class="form-group">
          <label for="updateRideValue"><i class="fas fa-magic"></i> New Value:</label>
          <input type="text" id="updateRideValue" placeholder="Enter new value">
        </div>
        <button class="btn secondary" onclick="updateRide()"><i class="fas fa-save"></i> Update Ride</button>
        <div class="status" id="updateRideResponse"></div>
      </div>
      
      <div id="deleteRide" class="tabcontent">
        <div class="form-group">
          <label for="deleteRideId"><i class="fas fa-key"></i> Ride ID:</label>
          <input type="text" id="deleteRideId" placeholder="Enter ride ID to delete">
        </div>
        <button class="btn danger" onclick="deleteRide()"><i class="fas fa-trash"></i> Delete Ride</button>
        <div class="status" id="deleteRideResponse"></div>
      </div>
    </section>
    
    <section class="section">
      <h2><i class="fas fa-users"></i> Users Management</h2>
      
      <div class="tab">
        <button class="tablinks active" onclick="openTab(event, 'createUser')"><i class="fas fa-user-plus"></i> Create</button>
        <button class="tablinks" onclick="openTab(event, 'getUsers')"><i class="fas fa-users"></i> View All</button>
        <button class="tablinks" onclick="openTab(event, 'updateUser')"><i class="fas fa-user-edit"></i> Update</button>
        <button class="tablinks" onclick="openTab(event, 'deleteUser')"><i class="fas fa-user-minus"></i> Delete</button>
      </div>
      
      <div id="createUser" class="tabcontent active-tab">
        <div class="form-group">
          <label for="userName"><i class="fas fa-user"></i> Name:</label>
          <input type="text" id="userName" placeholder="Enter name">
        </div>
        <div class="form-group">
          <label for="userEmail"><i class="fas fa-envelope"></i> Email:</label>
          <input type="email" id="userEmail" placeholder="Enter email">
        </div>
        <div class="form-group">
          <label for="userPhone"><i class="fas fa-phone"></i> Phone:</label>
          <input type="text" id="userPhone" placeholder="Enter phone number">
        </div>
        <div class="form-group">
          <label for="userType"><i class="fas fa-star"></i> Type:</label>
          <select id="userType">
            <option value="active">Active</option>
            <option value="inactive">Inactive</option>
          </select>
        </div>
        <button class="btn" onclick="createUser()"><i class="fas fa-user-plus"></i> Create User</button>
        <div class="status" id="createUserResponse"></div>
      </div>
      
      <div id="getUsers" class="tabcontent">
        <button class="btn" onclick="getAllUsers()"><i class="fas fa-sync-alt"></i> Load All Users</button>
        <div class="status" id="getUsersResponse"></div>
        <div id="usersList" class="list"></div>
      </div>
      
      <div id="updateUser" class="tabcontent">
        <div class="form-group">
          <label for="updateUserId"><i class="fas fa-key"></i> User ID:</label>
          <input type="text" id="updateUserId" placeholder="Enter user ID">
        </div>
        <div class="form-group">
          <label for="updateUserField"><i class="fas fa-tag"></i> Field to Update:</label>
          <select id="updateUserField">
            <option value="name">Name</option>
            <option value="email">Email</option>
            <option value="phone">Phone</option>
            <option value="type">Type</option>
          </select>
        </div>
        <div class="form-group">
          <label for="updateUserValue"><i class="fas fa-magic"></i> New Value:</label>
          <input type="text" id="updateUserValue" placeholder="Enter new value">
        </div>
        <button class="btn secondary" onclick="updateUser()"><i class="fas fa-save"></i> Update User</button>
        <div class="status" id="updateUserResponse"></div>
      </div>
      
      <div id="deleteUser" class="tabcontent">
        <div class="form-group">
          <label for="deleteUserId"><i class="fas fa-key"></i> User ID:</label>
          <input type="text" id="deleteUserId" placeholder="Enter user ID to delete">
        </div>
        <button class="btn danger" onclick="deleteUser()"><i class="fas fa-trash"></i> Delete User</button>
        <div class="status" id="deleteUserResponse"></div>
      </div>
    </section>
      
    <div class="footer">
      <p>Made with <i class="fas fa-heart" style="color: var(--dark-pink);"></i> by Hello Kitty Team</p>
    </div>
  </div>

  <script>
    // Helper functions
    function showStatus(element, message, type) {
      const statusElement = document.getElementById(element);
      statusElement.textContent = message;
      statusElement.className = `status ${type} show`;
      setTimeout(() => {
        statusElement.className = 'status';
      }, 3000);
    }
    
    function openTab(evt, tabName) {
      // Hide all tab content in the current section
      const section = evt.currentTarget.closest('.section');
      const tabcontent = section.getElementsByClassName("tabcontent");
      for (let i = 0; i < tabcontent.length; i++) {
        tabcontent[i].classList.remove("active-tab");
      }
      
      // Remove active class from all tab buttons in the current section
      const tablinks = section.getElementsByClassName("tablinks");
      for (let i = 0; i < tablinks.length; i++) {
        tablinks[i].classList.remove("active");
      }
      
      // Show the current tab and add active class to the button
      document.getElementById(tabName).classList.add("active-tab");
      evt.currentTarget.classList.add("active");
    }
  
    function createRideCard(ride) {
      return `
        <div class="card ride-card">
          <h3>${ride.driverId || 'Unknown Driver'}</h3>
          <p><i class="fas fa-map-marker-alt"></i> <strong>From:</strong> ${ride.pickupLocation || 'Not specified'}</p>
          <p><i class="fas fa-flag-checkered"></i> <strong>To:</strong> ${ride.destination || 'Not specified'}</p>
          <p><i class="fas fa-calendar-alt"></i> <strong>Date:</strong> ${ride.createdAt ? new Date(ride.createdAt).toLocaleString() : 'Unknown'}</p>
          <p><i class="fas fa-info-circle"></i> <strong>Status:</strong> ${ride.status || 'pending'}</p>
          <p><i class="fas fa-key"></i> <strong>ID:</strong> ${ride._id || 'Unknown'}</p>
          <div class="action-buttons">
            <button class="btn secondary" onclick="fillUpdateRideForm('${ride._id}')"><i class="fas fa-edit"></i> Edit</button>
            <button class="btn danger" onclick="confirmDeleteRide('${ride._id}')"><i class="fas fa-trash"></i> Delete</button>
          </div>
        </div>
      `;
    }
  
    function createUserCard(user) {
      return `
        <div class="card user-card">
          <h3>${user.name || 'Anonymous User'}</h3>
          <p><i class="fas fa-envelope"></i> <strong>Email:</strong> <span class="email">${user.email || 'Not provided'}</span></p>
          <p><i class="fas fa-phone"></i> <strong>Phone:</strong> ${user.phone || 'Not provided'}</p>
          <p><i class="fas fa-calendar-alt"></i> <strong>Member since:</strong> ${user.createdAt ? new Date(user.createdAt).toLocaleDateString() : 'Unknown'}</p>
          <p><i class="fas fa-id-card"></i> <strong>User Type:</strong> ${user.type || 'Not active'}</p>
          <p><i class="fas fa-key"></i> <strong>ID:</strong> ${user._id || 'Unknown'}</p>
          <div class="action-buttons">
            <button class="btn secondary" onclick="fillUpdateUserForm('${user._id}')"><i class="fas fa-edit"></i> Edit</button>
            <button class="btn danger" onclick="confirmDeleteUser('${user._id}')"><i class="fas fa-trash"></i> Delete</button>
          </div>
        </div>
      `;
    }
    
    function fillUpdateRideForm(rideId) {
      document.getElementById('updateRideId').value = rideId;
      // Switch to the update tab
      document.querySelector('.section:nth-child(2) .tablinks:nth-child(3)').click();
    }
    
    function fillUpdateUserForm(userId) {
      document.getElementById('updateUserId').value = userId;
      // Switch to the update tab
      document.querySelector('.section:nth-child(3) .tablinks:nth-child(3)').click();
    }
    
    function confirmDeleteRide(rideId) {
      if (confirm("Are you sure you want to delete this ride?")) {
        document.getElementById('deleteRideId').value = rideId;
        // Switch to the delete tab
        document.querySelector('.section:nth-child(2) .tablinks:nth-child(4)').click();
        deleteRide();
      }
    }
    
    function confirmDeleteUser(userId) {
      if (confirm("Are you sure you want to delete this user?")) {
        document.getElementById('deleteUserId').value = userId;
        // Switch to the delete tab
        document.querySelector('.section:nth-child(3) .tablinks:nth-child(4)').click();
        deleteUser();
      }
    }
  
    // Ride operations
    async function createRide() {
      const pickupLocation = document.getElementById('ridePickup').value;
      const destination = document.getElementById('rideDestination').value;
      const driverId = document.getElementById('rideDriverId').value;
      const status = document.getElementById('rideStatus').value;
      
      if (!pickupLocation || !destination || !driverId) {
        showStatus('createRideResponse', 'Please fill in all required fields!', 'error');
        return;
      }
      
      const rideData = {
        pickupLocation,
        destination,
        driverId,
        status
      };
      
      try {
        showStatus('createRideResponse', 'Creating ride...', 'loading');
        const response = await fetch('http://localhost:3000/rides', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(rideData)
        });
        
        if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
        
        const data = await response.json();
        showStatus('createRideResponse', `Ride created successfully! ID: ${data._id}`, 'success');
        
        // Clear form
        document.getElementById('ridePickup').value = '';
        document.getElementById('rideDestination').value = '';
        document.getElementById('rideDriverId').value = '';
        document.getElementById('rideStatus').value = 'requested';
        
        // Refresh rides list
        getAllRides();
      } catch (error) {
        showStatus('createRideResponse', `Failed to create ride: ${error.message}`, 'error');
      }
    }
  
    async function getAllRides() {
      try {
        showStatus('getRidesResponse', 'Loading rides...', 'loading');
        const response = await fetch('http://localhost:3000/rides');
        if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
  
        const rides = await response.json();
        const list = document.getElementById('ridesList');
        list.innerHTML = '';
  
        if (rides.length === 0) {
          showStatus('getRidesResponse', 'No rides available right now!', 'empty');
          list.innerHTML = '<p style="grid-column:1/-1;text-align:center;">No rides found. Check back later!</p>';
          return;
        }
  
        rides.forEach(ride => {
          list.innerHTML += createRideCard(ride);
        });
  
        showStatus('getRidesResponse', `Successfully loaded ${rides.length} rides!`, 'success');
      } catch (error) {
        showStatus('getRidesResponse', `Failed to load rides: ${error.message}`, 'error');
      }
    }
  
    async function updateRide() {
      const rideId = document.getElementById('updateRideId').value;
      const field = document.getElementById('updateRideField').value;
      const value = document.getElementById('updateRideValue').value;
      
      if (!rideId || !value) {
        showStatus('updateRideResponse', 'Please fill in all required fields!', 'error');
        return;
      }
      
      const updateData = {
        [field]: value
      };
      
      try {
        showStatus('updateRideResponse', 'Updating ride...', 'loading');
        const response = await fetch(`http://localhost:3000/rides/${rideId}`, {
          method: 'PATCH',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(updateData)
        });
        
        if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
        
        const data = await response.json();
        showStatus('updateRideResponse', `Ride updated successfully!`, 'success');
        
        // Clear form
        document.getElementById('updateRideId').value = '';
        document.getElementById('updateRideValue').value = '';
        
        // Refresh rides list
        getAllRides();
      } catch (error) {
        showStatus('updateRideResponse', `Failed to update ride: ${error.message}`, 'error');
      }
    }
  
    async function deleteRide() {
      const rideId = document.getElementById('deleteRideId').value;
      
      if (!rideId) {
        showStatus('deleteRideResponse', 'Please enter a ride ID!', 'error');
        return;
      }
      
      try {
        showStatus('deleteRideResponse', 'Deleting ride...', 'loading');
        const response = await fetch(`http://localhost:3000/rides/${rideId}`, {
          method: 'DELETE'
        });
        
        if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
        
        const data = await response.json();
        showStatus('deleteRideResponse', `Ride deleted successfully!`, 'success');
        
        // Clear form
        document.getElementById('deleteRideId').value = '';
        
        // Refresh rides list
        getAllRides();
      } catch (error) {
        showStatus('deleteRideResponse', `Failed to delete ride: ${error.message}`, 'error');
      }
    }
  
    // User operations
    async function createUser() {
      const name = document.getElementById('userName').value;
      const email = document.getElementById('userEmail').value;
      const phone = document.getElementById('userPhone').value;
      const type = document.getElementById('userType').value;
      
      if (!name || !email || !phone) {
        showStatus('createUserResponse', 'Please fill in all required fields!', 'error');
        return;
      }
      
      const userData = {
        name,
        email,
        phone,
        type
      };
      
      try {
        showStatus('createUserResponse', 'Creating user...', 'loading');
        const response = await fetch('http://localhost:3000/users', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(userData)
        });
        
        if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
        
        const data = await response.json();
        showStatus('createUserResponse', `User created successfully! ID: ${data._id}`, 'success');
        
        // Clear form
        document.getElementById('userName').value = '';
        document.getElementById('userEmail').value = '';
        document.getElementById('userPhone').value = '';
        document.getElementById('userType').value = 'active';
        
        // Refresh users list
        getAllUsers();
      } catch (error) {
        showStatus('createUserResponse', `Failed to create user: ${error.message}`, 'error');
      }
    }
  
    async function getAllUsers() {
      try {
        showStatus('getUsersResponse', 'Loading users...', 'loading');
        const response = await fetch('http://localhost:3000/users');
        if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
  
        const users = await response.json();
        const list = document.getElementById('usersList');
        list.innerHTML = '';
  
        if (users.length === 0) {
          showStatus('getUsersResponse', 'No users found in the system!', 'empty');
          list.innerHTML = '<p style="grid-column:1/-1;text-align:center;">No users registered yet!</p>';
          return;
        }
  
        users.forEach(user => {
          list.innerHTML += createUserCard(user);
        });
  
        showStatus('getUsersResponse', `Successfully loaded ${users.length} users!`, 'success');
      } catch (error) {
        showStatus('getUsersResponse', `Failed to load users: ${error.message}`, 'error');
      }
    }
  
    async function updateUser() {
      const userId = document.getElementById('updateUserId').value;
      const field = document.getElementById('updateUserField').value;
      const value = document.getElementById('updateUserValue').value;
      
      if (!userId || !value) {
        showStatus('updateUserResponse', 'Please fill in all required fields!', 'error');
        return;
      }
      
      const updateData = {
        [field]: value
      };
      
      try {
        showStatus('updateUserResponse', 'Updating user...', 'loading');
        const response = await fetch(`http://localhost:3000/users/${userId}`, {
          method: 'PATCH',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(updateData)
        });
        
        if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
        
        const data = await response.json();
        showStatus('updateUserResponse', `User updated successfully!`, 'success');
        
        // Clear form
        document.getElementById('updateUserId').value = '';
        document.getElementById('updateUserValue').value = '';
        
        // Refresh users list
        getAllUsers();
      } catch (error) {
        showStatus('updateUserResponse', `Failed to update user: ${error.message}`, 'error');
      }
    }
  
    async function deleteUser() {
      const userId = document.getElementById('deleteUserId').value;
      
      if (!userId) {
        showStatus('deleteUserResponse', 'Please enter a user ID!', 'error');
        return;
      }
      
      try {
        showStatus('deleteUserResponse', 'Deleting user...', 'loading');
        const response = await fetch(`http://localhost:3000/users/${userId}`, {
          method: 'DELETE'
        });
        
        if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
        
        const data = await response.json();
        showStatus('deleteUserResponse', `User deleted successfully!`, 'success');
        
        // Clear form
        document.getElementById('deleteUserId').value = '';
        
        // Refresh users list
        getAllUsers();
      } catch (error) {
        showStatus('deleteUserResponse', `Failed to delete user: ${error.message}`, 'error');
      }
    }
  
    // Initial load
    document.addEventListener('DOMContentLoaded', () => {
      setTimeout(() => {
        const kitty = document.querySelector('.hello-kitty');
        if (kitty) {
          kitty.style.transform = 'translateX(-50%) scale(1.2)';
          setTimeout(() => {
            kitty.style.transform = 'translateX(-50%)';
          }, 300);
        }
      }, 500);
      
      // Load initial data
      getAllRides();
      getAllUsers();
    });
  </script>
</body>
</html>